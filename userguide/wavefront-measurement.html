<!doctype html><html lang=en class="js csstransforms3d">
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=generator content="Hugo 0.91.2">
<meta name=description content="PhotonLoop User Manual">
<meta name=author content="Jacopo Mocci">
<link rel=icon href=../images/favicon.png type=image/png>
<title>Wavefront Measurement - PhotonLoop User Manual</title>
<link href=../css/nucleus.css?1651152525 rel=stylesheet>
<link href=../css/fontawesome-all.min.css?1651152525 rel=stylesheet>
<link href=../css/hybrid.css?1651152525 rel=stylesheet>
<link href=../css/featherlight.min.css?1651152525 rel=stylesheet>
<link href=../css/perfect-scrollbar.min.css?1651152525 rel=stylesheet>
<link href=../css/auto-complete.css?1651152525 rel=stylesheet>
<link href=../css/atom-one-dark-reasonable.css?1651152525 rel=stylesheet>
<link href=../css/theme.css?1651152525 rel=stylesheet>
<link href=../css/tabs.css?1651152525 rel=stylesheet>
<link href=../css/hugo-theme.css?1651152525 rel=stylesheet>
<link href=../css/theme-jm.css?1651152525 rel=stylesheet>
<link href=../css/custom.css?1651152525 rel=stylesheet>
<script src=../js/jquery-3.3.1.min.js?1651152525></script>
<style>:root #header+#content>#left>#rlblock_left{display:none!important}</style>
</head>
<body data-url=../userguide/wavefront-measurement.html>
<nav id=sidebar>
<div id=header-wrapper>
<div id=header>
<img src=../PhotonLoop_logo.png alt="Dynamic Optics">
</div>
<div class=searchbox>
<label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span>
</div>
<script type=text/javascript src=../js/lunr.min.js?1651152525></script>
<script type=text/javascript src=../js/auto-complete.js?1651152525></script>
<script type=text/javascript>var baseurl=""</script>
<script type=text/javascript src=../js/search.js?1651152525></script>
</div>
<section id=homelinks>
<ul>
<li>
<a class=padding href=../><i class="fas fa-home"></i> Home</a>
</li>
</ul>
</section>
<div class=highlightable>
<ul class=topics>
<li data-nav-id=/userguide.html title="User Manual" class="dd-item
parent">
<a href=../userguide.html>
User Manual
</a>
<ul>
<li data-nav-id=/userguide/safety.html title="Safety Instructions" class=dd-item>
<a href=../userguide/safety.html>
Safety Instructions
</a>
</li>
<li data-nav-id=/userguide/installation.html title=Installation class=dd-item>
<a href=../userguide/installation.html>
Installation
</a>
</li>
<li data-nav-id=/userguide/ao-setup.html title="Optical Setup" class=dd-item>
<a href=../userguide/ao-setup.html>
Optical Setup
</a>
</li>
<li data-nav-id=/userguide/wavefront-measurement.html title="Wavefront Measurement" class="dd-item active">
<a href=../userguide/wavefront-measurement.html>
Wavefront Measurement
</a>
</li>
<li data-nav-id=/userguide/compensation.html title="Aberration Correction" class=dd-item>
<a href=../userguide/compensation.html>
Aberration Correction
</a>
</li>
<li data-nav-id=/userguide/tcpip.html title=TCP-IP class=dd-item>
<a href=../userguide/tcpip.html>
TCP-IP
</a>
</li>
<li data-nav-id=/userguide/plugins.html title=Plugins class=dd-item>
<a href=../userguide/plugins.html>
Plugins
</a>
</li>
</ul>
</li>
<li data-nav-id=/widgets.html title=Widgets class=dd-item>
<a href=../widgets.html>
Widgets
</a>
<ul>
<li data-nav-id=/widgets/actuatorsbars.html title="Actuators Bars" class=dd-item>
<a href=../widgets/actuatorsbars.html>
Actuators Bars
</a>
</li>
<li data-nav-id=/widgets/actuatorsresponse.html title="Actuators Response" class=dd-item>
<a href=../widgets/actuatorsresponse.html>
Actuators Response
</a>
</li>
<li data-nav-id=/widgets/actuatorstable.html title="Actuators Table" class=dd-item>
<a href=../widgets/actuatorstable.html>
Actuators Table
</a>
</li>
<li data-nav-id=/widgets/calibration.html title="Calibration Settings" class=dd-item>
<a href=../widgets/calibration.html>
Calibration Settings
</a>
</li>
<li data-nav-id=/widgets/compensator.html title="Compensator Settings" class=dd-item>
<a href=../widgets/compensator.html>
Compensator Settings
</a>
</li>
<li data-nav-id=/widgets/intensityprofile.html title="Intensity Profile" class=dd-item>
<a href=../widgets/intensityprofile.html>
Intensity Profile
</a>
</li>
<li data-nav-id=/widgets/log.html title="Log Toolbar" class=dd-item>
<a href=../widgets/log.html>
Log Toolbar
</a>
</li>
<li data-nav-id=/widgets/modalbars.html title="Modal Bars" class=dd-item>
<a href=../widgets/modalbars.html>
Modal Bars
</a>
</li>
<li data-nav-id=/widgets/modal.html title="Modal Settings" class=dd-item>
<a href=../widgets/modal.html>
Modal Settings
</a>
</li>
<li data-nav-id=/widgets/modaltable.html title="Modal Table" class=dd-item>
<a href=../widgets/modaltable.html>
Modal Table
</a>
</li>
<li data-nav-id=/widgets/playback.html title=Playback class=dd-item>
<a href=../widgets/playback.html>
Playback
</a>
</li>
<li data-nav-id=/widgets/reconstructor.html title="Reconstructor Settings" class=dd-item>
<a href=../widgets/reconstructor.html>
Reconstructor Settings
</a>
</li>
<li data-nav-id=/widgets/sensor.html title="Sensor Settings" class=dd-item>
<a href=../widgets/sensor.html>
Sensor Settings
</a>
</li>
<li data-nav-id=/widgets/singularbars.html title="Singular Bars" class=dd-item>
<a href=../widgets/singularbars.html>
Singular Bars
</a>
</li>
<li data-nav-id=/widgets/singulartable.html title="Singular Table" class=dd-item>
<a href=../widgets/singulartable.html>
Singular Table
</a>
</li>
<li data-nav-id=/widgets/singulartomodalbars.html title="Singular To Modal Bars" class=dd-item>
<a href=../widgets/singulartomodalbars.html>
Singular To Modal Bars
</a>
</li>
<li data-nav-id=/widgets/singulartomodaltable.html title="Singular To Modal Table" class=dd-item>
<a href=../widgets/singulartomodaltable.html>
Singular To Modal Table
</a>
</li>
<li data-nav-id=/widgets/statistics.html title=Statistics class=dd-item>
<a href=../widgets/statistics.html>
Statistics
</a>
</li>
<li data-nav-id=/widgets/systemmodes.html title="System Modes" class=dd-item>
<a href=../widgets/systemmodes.html>
System Modes
</a>
</li>
<li data-nav-id=/widgets/timeseries.html title="Time Series" class=dd-item>
<a href=../widgets/timeseries.html>
Time Series
</a>
</li>
<li data-nav-id=/widgets/twcog.html title="TWCoG Settings" class=dd-item>
<a href=../widgets/twcog.html>
TWCoG Settings
</a>
</li>
<li data-nav-id=/widgets/viewfinder.html title=Viewfinder class=dd-item>
<a href=../widgets/viewfinder.html>
Viewfinder
</a>
</li>
<li data-nav-id=/widgets/wavefront.html title=Wavefront class=dd-item>
<a href=../widgets/wavefront.html>
Wavefront
</a>
</li>
<li data-nav-id=/widgets/wfc.html title="WFC Settings" class=dd-item>
<a href=../widgets/wfc.html>
WFC Settings
</a>
</li>
<li data-nav-id=/widgets/wfscalibration.html title="WFS Calibration" class=dd-item>
<a href=../widgets/wfscalibration.html>
WFS Calibration
</a>
</li>
<li data-nav-id=/widgets/wfs.html title="WFS Settings" class=dd-item>
<a href=../widgets/wfs.html>
WFS Settings
</a>
</li>
</ul>
</li>
</ul>
<section id=footer>
<p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p>
</section>
</div>
</nav>
<section id=body>
<div id=overlay></div>
<div class="padding highlightable">
<div>
<div id=top-bar>
<div id=top-github-link>
<a class=github-link title="Edit this page" href=https://github.com/moccij/PhotonLoop-Manual/edit/main/content/userguide/wavefront%20measurement.adoc target=blank>
<i class="fas fa-code-branch"></i>
<span id=top-github-link-text>Edit this page</span>
</a>
</div>
<div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb>
<span id=sidebar-toggle-span>
<a href=# id=sidebar-toggle data-sidebar-toggle>
<i class="fas fa-bars"></i>
</a>
</span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>
<a href=../>Home</a> > <a href=../userguide.html>User Manual</a> > Wavefront Measurement
</span>
</div>
<div class=progress>
<div class=wrapper>
<nav id=TableOfContents></nav>
</div>
</div>
</div>
</div>
<div id=head-tags>
</div>
<div id=body-inner>
<h1>
Wavefront Measurement
</h1>
<div class=paragraph>
<p>An accurate wavefront measurement is very important for metrology applications and for appropriate adaptive optics operation. Errors in measurements setting might causes system instability and if the relative errors are very high the system may not work.</p>
</div>
<div class=sect1>
<h2 id=_create_measure_grid_and_adjust_camera_settings>Create measure grid and adjust camera settings</h2>
<div class=sectionbody>
<div class=paragraph>
<p>All the buttons and options for these steps are in the following toolbox that you can find in the <a href=../widgets/viewfinder.html><strong>viewfinder</strong></a> widget.</p>
</div>
<div class=paragraph>
<p>To display spots and measurements grid click on <span class=icon><img src=../icons/grid_ccd.png alt="grid ccd"></span> and <span class=icon><img src=../icons/grid.png alt=grid></span> buttons respectively. Now you can create the measurements grid around the area of spots that you decide to consider. Click on <span class=icon><img src=../icons/grid_resize.png alt="grid resize"></span> and trace the grid over the spots.</p>
</div>
<div class=paragraph>
<div class="notices tip"><div class=paragraph>
<p>First off all you need to set the exposure of the camera until you see well defined spots image from the SHWFS, to set the exposure button and use the scroll bar in the Camera tab of the window that comes out.</p>
</div>
<div class=paragraph>
<p>At this stage you can fine tune the exposure time and the filter threshold for spot detection. We suggest a 90% of saturation for pixels and a threshold on spot detection just above the background noise of the sensor. These settings are easily set with in PHOTONLOOP.</p>
</div>
</div>
</div>
<div class=paragraph>
<p><span class=image><img src=../img/image29.png alt=image29></span></p>
</div>
<div class=paragraph>
<p>Use the button <span class=icon><img src=../icons/grid_align.png alt="grid align"></span> in the main toolbox to automatically center the grid.</p>
</div>
<div class=paragraph>
<p>Finally, you will see a grid like this:</p>
</div>
<div class=paragraph>
<p><span class=image><img src=../img/image33.png alt=image33></span></p>
</div>
<div class=paragraph>
<p>If the aperture is circular like in the example used for this guide use the Force Circular Aperture button <span class=icon><img src=../icons/grid_circle.png alt="grid circle"></span> to exclude the area of the grid in the corner of the measured square.</p>
</div>
<div class=paragraph>
<p>Now regulate exposure and gain of the camera in the Camera tab and set the options for centroid extraction in the relative tab.</p>
</div>
<div class=paragraph>
<p><span class=image><img src=../img/image36.png alt=image36></span></p>
</div>
<div class=paragraph>
<p>The vertical line in the plot profile show the level and the shape of the threshold you are considering. The acquired images of the spots are analyzed to reconstruct the wavefront.</p>
</div>
<div class=paragraph>
<p>If some spots are not well defined or blink, they may cause problems to the measurements. Use this button <span class=icon><img src=../icons/centroids_remove.png alt="centroids remove"></span> to exclude them.</p>
</div>
<div class=paragraph>
<p>Options for data elaboration can be found in Settings Tab and then Modal Tab.</p>
</div>
<div class=paragraph>
<p><span class=image><img src=../img/image38.png alt=image38></span></p>
</div>
<div class=paragraph>
<p>Here you can set number of modes used for in the wavefront reconstruction. The oversampling sets the number of points for wavefront graphical representation. Finally you can choose if display Zernike Offsets, Real wavefront or both (Real+Offset) resulting wavefront.</p>
</div>
<div class=paragraph>
<p>Now you can start the measurements process with <span class=icon><img src=../icons/ref_abs.png alt="ref abs"></span> button in the main toolbox, PHOTONLOOP will measure the wavefront inside the grid for each frame taken by the camera.</p>
</div>
<div class=paragraph>
<p>The last three buttons <span class=icon><img src=../icons/grid_ref.png alt="grid ref"></span>, <span class=icon><img src=../icons/grid_main.png alt="grid main"></span> and <span class=icon><img src=../icons/grid_quiver.png alt="grid quiver"></span> on the display toolbox are used to show the excluded spots, the considered spots and the slopes of the wavefront respectively.</p>
</div>
<div class=paragraph>
<p>You can use the crop button <span class=icon><img src=../icons/grid_crop.png alt="grid crop"></span> to make an area of interest (AOI), this allow the system to work at a higher frame rate. To increase the frame rate, after pressing crop, put the new frequency in the WPS tab. If the frequency will be higher than the maximum allowed, the system will go to the maximum possible frequency.</p>
</div>
<div class=paragraph>
<p>You can find more details about centroid calculation options in this paper:</p>
</div>
<div class=listingblock>
<div class=content>
<pre class=highlight><code>S. Thomas et al, Comparison of centroid computation algorithms in a Shack-Hartmann sensor, Mon. Not. R. Astron. Soc. *371,* 323-336 (2006).</code></pre>
</div>
</div>
</div>
</div>
<div class=sect1>
<h2 id=_read_measurements>Read measurements</h2>
<div class=sectionbody>
<div class=paragraph>
<p>The results of wavefront measurements are displayed in the bottom part of the main window. Here you can see the Zernike decomposition in a histogram and the wavefront reconstruction. For both histogram and graph, you can choose display options like graph type, scale and color. Just click on the star button * in the bottom right corner of the graph areas.</p>
</div>
<div class=paragraph>
<p><span class=image><img src=../img/image44.png alt=image44></span></p>
</div>
</div>
</div>
<footer class=footline>
</footer>
</div>
</div>
<div id=navigation>
<a class="nav nav-prev" href=../userguide/ao-setup.html title="Optical Setup"> <i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../userguide/compensation.html title="Aberration Correction" style=margin-right:0><i class="fa fa-chevron-right"></i></a>
</div>
</section>
<div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px>
<div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div>
</div>
<script src=../js/clipboard.min.js?1651152526></script>
<script src=../js/perfect-scrollbar.min.js?1651152526></script>
<script src=../js/perfect-scrollbar.jquery.min.js?1651152526></script>
<script src=../js/jquery.sticky.js?1651152526></script>
<script src=../js/featherlight.min.js?1651152526></script>
<script src=../js/highlight.pack.js?1651152526></script>
<script>hljs.initHighlightingOnLoad()</script>
<script src=../js/modernizr.custom-3.6.0.js?1651152526></script>
<script src=../js/learn.js?1651152526></script>
<script src=../js/hugo-learn.js?1651152526></script>
<script src=https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0})</script>
</body>
</html>